function e(e,t,s,i){Object.defineProperty(e,t,{get:s,set:i,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},i={},r=t.parcelRequire94e7;null==r&&((r=function(e){if(e in s)return s[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return s[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){i[e]=t},t.parcelRequire94e7=r),r.register("bXuNP",(function(t,s){var i,r;e(t.exports,"register",(()=>i),(e=>i=e)),e(t.exports,"resolve",(()=>r),(e=>r=e));var o={};i=function(e){for(var t=Object.keys(e),s=0;s<t.length;s++)o[t[s]]=e[t[s]]},r=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r("bXuNP").register(JSON.parse('{"ar0Sd":"index.d6cf229b.js","lbuP4":"bomberman_1.96ec4195.png","jvbAW":"bomberman_2.c2faa1af.png","buTXi":"bomberman_3.e72cd09c.png","evq4u":"bomberman_1.9b271b10.png","4CJDA":"bomberman_2.d3139e4f.png","iccN2":"bomberman_3.3cfc58a1.png","b0XRX":"bomberman_1.5ba1e3d2.png","jbvLS":"bomberman_2.8e844d08.png","41jv0":"bomberman_3.0c0e0e3d.png","gWlCs":"bomberman_1.21d0400d.png","11Lhu":"bomberman_2.67452651.png","9sJ0f":"bomberman_3.7455ed2e.png","ct3UI":"bomberman_1.cf1cc6b5.png","4JEGD":"bomberman_2.dcc3d5ea.png","cTn2U":"bomberman_3.c518982f.png","jRYou":"bomberman_4.2259d540.png","465r3":"bomberman_1.57fd58a1.png","fQmGR":"bomberman_2.7740c61c.png","ifr5q":"bomberman_3.2f300e19.png","98FOQ":"bomberman_1.0fa97c06.png","2hESs":"bomberman_2.c591bb2f.png","b7j1B":"bomberman_3.9a7e3ac0.png","6Q7BQ":"bomberman_1.58fde4e6.png","1gEC9":"bomberman_2.00fec289.png","DTZ0u":"bomberman_3.e619e016.png","5Z4Zv":"bomberman_1.ce544c87.png","87wVw":"bomberman_2.9ff2f088.png","72ECo":"bomberman_3.261cbd16.png","3mWNl":"bomberman_1.9ed36bb2.png","1PQKP":"bomberman_2.975e6c73.png","dacrb":"bomberman_3.bfb65581.png","i5ghE":"bomberman_4.5e267805.png","h25ac":"bomb_1.7c027d42.png","6NhaN":"obstacle.a2bef383.png","eqomE":"grass.d9289d9a.png","aoeKT":"barrier.02e58d76.png","4lBHL":"wall.77e780d3.png","jxwjU":"grass.679a6d38.png","hsscU":"obstacle.db0580c4.png","9zwop":"barrier.4c638d00.png","1IebO":"finish.39d9205e.png","dJTrI":"bomb_3.479d7f15.png","eHnfi":"bomb_effect.5f5cbc8b.png","ieKO4":"bomb_effect_up.3d29d2d1.png","5W9Yp":"bomb_effect_right.5f5cbc8b.png","dulnX":"bomb_effect_down.ac364ae7.png","3MbH4":"bomb_effect_left.84b835f9.png"}'));var o;r.register("kPq84",(function(t,s){var i;e(t.exports,"getBundleURL",(()=>i),(e=>i=e));var r={};function o(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}i=function(e){var t=r[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return o(e[2])}return"/"}(),r[e]=t),t}})),o=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("lbuP4");var h;h=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("jvbAW");var a;a=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("buTXi");var l;l=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("evq4u");var n;n=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("4CJDA");var b;b=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("iccN2");var c;c=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("b0XRX");var d;d=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("jbvLS");var m;m=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("41jv0");var v;v=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("gWlCs");var g;g=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("11Lhu");var k;k=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("9sJ0f");var u;u=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("ct3UI");var f;f=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("4JEGD");var p;p=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("cTn2U");var y;y=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("jRYou");var w;w=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("465r3");var x;x=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("fQmGR");var _;_=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("ifr5q");var P;P=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("98FOQ");var R;R=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("2hESs");var S;S=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("b7j1B");var H;H=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("6Q7BQ");var E;E=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("1gEC9");var A;A=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("DTZ0u");var N;N=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("5Z4Zv");var L;L=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("87wVw");var I;I=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("72ECo");var U;U=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("3mWNl");var B;B=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("1PQKP");var F;F=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("dacrb");var q;q=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("i5ghE");class X extends class{constructor(e,t){this.ctx=e,this.position=t}draw(){}update(){}keyboard_event_down(e){}keyboard_event_up(e){}finishGame(){}}{constructor(e,t,s,i,r,X){super(e,s),this.size={x:50,y:50},this.maxSpeed=50,this.keystrokes={},this.bomberman=new Image,this.animationFramesCount=0,this.pjsDrawed=!1,this.gameOver=!1,this.assets={1:{front:{1:o,2:h,3:a},back:{1:c,2:d,3:m},right:{1:l,2:n,3:b},left:{1:v,2:g,3:k},dead:{1:u,2:f,3:p,4:y}},2:{front:{1:w,2:x,3:_},back:{1:H,2:E,3:A},right:{1:P,2:R,3:S},left:{1:N,2:L,3:I},dead:{1:U,2:B,3:F,4:q}}},this.ctx=e,this.position=s,this.keyboardMap=i,this.playerNumber=r,this.map=t,this.bombs=X,this.formatKeystrokes()}draw(){this.pjsDrawed?this.keystrokes.d||this.keystrokes.ArrowRight||this.keystrokes.a||this.keystrokes.ArrowLeft||this.keystrokes.s||this.keystrokes.ArrowDown||this.keystrokes.w||this.keystrokes.ArrowUp||(this.bomberman.src=this.assets[this.playerNumber][this.lastDirection][1],this.ctx.drawImage(this.bomberman,this.position.x,this.position.y,this.size.x,this.size.y)):(1===this.playerNumber?this.changePjImage("right"):2===this.playerNumber&&this.changePjImage("left"),this.pjsDrawed=!0)}update(){const e=this.position.y/this.size.y,t=this.position.x/this.size.x;this.map.checkStillAlive(e,t)&&!this.gameOver?(this.position.x<1050&&(this.keystrokes.d||this.keystrokes.ArrowRight)?this.changePjImage("right"):this.position.x>50&&(this.keystrokes.a||this.keystrokes.ArrowLeft)&&this.changePjImage("left"),this.position.y<650&&(this.keystrokes.s||this.keystrokes.ArrowDown)?this.changePjImage("front"):this.position.y>50&&(this.keystrokes.w||this.keystrokes.ArrowUp)&&this.changePjImage("back"),(this.position.x>=1050&&(this.keystrokes.d||this.keystrokes.ArrowRight)||this.position.x<=50&&(this.keystrokes.a||this.keystrokes.ArrowLeft)||this.position.y>=650&&(this.keystrokes.s||this.keystrokes.ArrowDown)||this.position.y<=50&&(this.keystrokes.w||this.keystrokes.ArrowUp))&&(this.bomberman.src=this.assets[this.playerNumber][this.lastDirection][1],this.ctx.drawImage(this.bomberman,this.position.x,this.position.y,this.size.x,this.size.y)),this.keystrokes.d||this.keystrokes.ArrowRight||this.keystrokes.a||this.keystrokes.ArrowLeft||this.keystrokes.s||this.keystrokes.ArrowDown||this.keystrokes.w||this.keystrokes.ArrowUp||(this.bomberman.src=this.assets[this.playerNumber][this.lastDirection][1],this.ctx.drawImage(this.bomberman,this.position.x,this.position.y,this.size.x,this.size.y))):(this.gameOver=!0,this.deadAnimation())}formatKeystrokes(){for(const e in this.keyboardMap)Object.prototype.hasOwnProperty.call(this.keyboardMap,e)&&(this.keystrokes[e]=!1)}keyboard_event_down(e){if(Object.keys(this.keyboardMap).includes(e.key)&&(this.handleKeyboardEvents(e.key,null),"Shift"===e.key||"e"===e.key)){const e=this.position.y/this.size.y,t=this.position.x/this.size.x;this.bombs.getBombsQty(this.playerNumber)&&this.bombs.put(e,t,this.playerNumber)}if(!this.gameOver){const e=this.map.checkColision(this.position,this.size,this.keystrokes);switch(this.keystrokes.d||this.keystrokes.ArrowRight?"right":this.keystrokes.a||this.keystrokes.ArrowLeft?"left":this.keystrokes.s||this.keystrokes.ArrowDown?"down":this.keystrokes.w||this.keystrokes.ArrowUp?"up":""){case"right":this.moveToRight(e);break;case"left":this.moveToLeft(e);break;case"down":this.moveToDown(e);break;case"up":this.moveToUp(e)}this.controlAnimationFrame()}}moveToRight(e){const t=this.position.x/this.size.x;!e&&this.position.x<1050&&(this.keystrokes.d||this.keystrokes.ArrowRight)?(this.changePjImage("right"),this.position.x+=this.maxSpeed):e&&!Number.isInteger(t)&&this.position.x<1050&&(this.keystrokes.d||this.keystrokes.ArrowRight)&&(this.position.x+=this.maxSpeed)}moveToLeft(e){const t=this.position.x/this.size.x;!e&&this.position.x>50&&(this.keystrokes.a||this.keystrokes.ArrowLeft)?(this.changePjImage("left"),this.position.x-=this.maxSpeed):e&&!Number.isInteger(t)&&this.position.x>50&&(this.keystrokes.a||this.keystrokes.ArrowLeft)&&(this.position.x-=this.maxSpeed)}moveToDown(e){const t=this.position.y/this.size.y;!e&&this.position.y<650&&(this.keystrokes.s||this.keystrokes.ArrowDown)?(this.changePjImage("front"),this.position.y+=this.maxSpeed):e&&!Number.isInteger(t)&&this.position.y<650&&(this.keystrokes.s||this.keystrokes.ArrowDown)&&(this.position.y+=this.maxSpeed)}moveToUp(e){const t=this.position.y/this.size.y;!e&&this.position.y>50&&(this.keystrokes.w||this.keystrokes.ArrowUp)?(this.changePjImage("back"),this.position.y-=this.maxSpeed):e&&!Number.isInteger(t)&&this.position.y>50&&(this.keystrokes.w||this.keystrokes.ArrowUp)&&(this.position.y-=this.maxSpeed)}controlAnimationFrame(){this.animationFramesCount<=2?this.animationFramesCount++:this.animationFramesCount=1}changePjImage(e){switch(e){case"back":this.lastDirection="back",this.bomberman.src=this.assets[this.playerNumber][this.lastDirection][this.animationFramesCount],this.ctx.drawImage(this.bomberman,this.position.x,this.position.y,this.size.x,this.size.y);break;case"front":this.lastDirection="front",this.bomberman.src=this.assets[this.playerNumber][this.lastDirection][this.animationFramesCount],this.ctx.drawImage(this.bomberman,this.position.x,this.position.y,this.size.x,this.size.y);break;case"right":this.lastDirection="right",this.bomberman.src=this.assets[this.playerNumber][this.lastDirection][this.animationFramesCount],this.ctx.drawImage(this.bomberman,this.position.x,this.position.y,this.size.x,this.size.y);break;case"left":this.lastDirection="left",this.bomberman.src=this.assets[this.playerNumber][this.lastDirection][this.animationFramesCount],this.ctx.drawImage(this.bomberman,this.position.x,this.position.y,this.size.x,this.size.y)}}keyboard_event_up(e){Object.keys(this.keyboardMap).includes(e)&&this.handleKeyboardEvents(null,e)}handleKeyboardEvents(e,t){if(e){for(const e in this.keystrokes)Object.prototype.hasOwnProperty.call(this.keystrokes,e)&&(this.keystrokes[e]=!1);this.keystrokes[e]=!0}t&&(this.keystrokes[t]=!1)}finishGame(){return this.gameOver?this.playerNumber:0}deadAnimation(){this.bomberman.src=this.assets[this.playerNumber].dead[this.animationFramesCount],this.ctx.drawImage(this.bomberman,this.position.x,this.position.y,this.size.x,this.size.y)}}class D{constructor(e,t){this.bombQty={1:1,2:1},this.map=e,this.level=t}put(e,t,s){this.bombQty[s]>0&&(this.map.putBomb(e,t),this.bombQty[s]-=1),setTimeout((()=>{this.detonate(e,t,s)}),2e3)}detonate(e,t,s){this.map.detonateBomb(e,t),setTimeout((()=>{this.bombQty[s]=1}),1e3)}getBombsQty(e){return this.bombQty[e]}}class T{constructor(e,t){this.ctx=e,this.position=t}draw(e,t){const s=(1/e).toFixed(0);this.ctx.font="24px Bomberman",this.ctx.fillStyle=t,this.ctx.fillText(`FPS:${s}`,this.position.x,this.position.y)}}var O;O=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("h25ac");class j{constructor(e){this.bomb=new Image,this.position={x:150,y:15},this.ctx=e,this.bomb.src=O}draw(e,t){this.ctx.beginPath(),this.ctx.strokeStyle=e,this.ctx.fillStyle=e,this.ctx.fillRect(0,0,1150,50),this.ctx.stroke(),this.ctx.font="24px Bomberman",this.ctx.fillStyle=t,this.ctx.fillText("Level 1",190,35),this.ctx.fillText("Level 2",350,35),this.ctx.drawImage(this.bomb,this.position.x,this.position.y,25,25)}keyboard_event_down(e){"1"===e?(this.level=1,this.position.x=150):"2"===e&&(this.level=2,this.position.x=315)}getLevel(){return this.level||1}}class z{constructor(e,t,s,i,r){this.ctx=e,this.form=i,this.color=r,this.position=t,this.size=s}draw(){switch(this.form){case"rect":this.ctx.beginPath(),this.ctx.strokeStyle=this.color,this.ctx.fillStyle=this.color,this.ctx.fillRect(this.position.x,this.position.y,this.size.x,this.size.y),this.ctx.stroke();break;case"arc":this.ctx.strokeStyle=this.color,this.ctx.fillStyle=this.color,this.ctx.beginPath(),this.ctx.arc(this.position.x+this.size.x/2,this.position.y+this.size.y/2,3,0,2*Math.PI),this.ctx.closePath(),this.ctx.stroke(),this.ctx.fill()}}}var M;M=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("6NhaN");var C;C=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("eqomE");var Q;Q=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("aoeKT");var G;G=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("4lBHL");var W;W=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("jxwjU");var J;J=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("hsscU");var K;K=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("9zwop");var Z;Z=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("1IebO");var Y;Y=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("dJTrI");var $;$=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("eHnfi");var V;V=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("ieKO4");var ee;ee=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("5W9Yp");var te;te=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("dulnX");var se,ie,re;se=r("kPq84").getBundleURL("ar0Sd")+r("bXuNP").resolve("3MbH4");class oe{constructor(e,t,s={x:0,y:0}){this.levels={1:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,1],[1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1],[1,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,1],[1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1],[1,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,1],[1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1],[1,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,1],[1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1],[1,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,1],[1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1],[1,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,1],[1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1],[1,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,3,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],2:[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]},this.widthOfElement=50,this.heightOfElement=50,this.wall=new Image,this.grass=new Image,this.barrier=new Image,this.obstacle=new Image,this.finish=new Image,this.bomb=new Image,this.bombEffects=new Image,this.bombEffectsUp=new Image,this.bombEffectsRight=new Image,this.bombEffectsDown=new Image,this.bombEffectsLeft=new Image,this.ctx=e,this.position=s,this.level=t,this.loadAssets()}loadAssets(){switch(this.level){case 1:this.wall.src=M,this.grass.src=C,this.barrier.src=Q,this.obstacle.src=M;break;case 2:this.wall.src=G,this.grass.src=W,this.barrier.src=J,this.obstacle.src=K}this.finish.src=Z,this.bomb.src=Y,this.bombEffects.src=$,this.bombEffectsUp.src=V,this.bombEffectsRight.src=ee,this.bombEffectsDown.src=te,this.bombEffectsLeft.src=se}draw(){this.levels[this.level].forEach(((e,t)=>{e.forEach(((e,s)=>{const i={x:s*this.widthOfElement,y:t*this.heightOfElement},r={x:this.widthOfElement,y:this.heightOfElement};let o;switch(e){case 0:o=new z(this.ctx,i,r,"rect","blue"),o.draw(),this.ctx.drawImage(this.grass,i.x,i.y,50,50);break;case 1:o=new z(this.ctx,i,r,"rect","green"),o.draw(),this.ctx.drawImage(this.wall,i.x,i.y,50,50);break;case 2:o=new z(this.ctx,i,r,"rect","red"),o.draw(),this.ctx.drawImage(this.obstacle,i.x,i.y,50,50);break;case 3:o=new z(this.ctx,i,r,"rect","black"),o.draw(),this.ctx.drawImage(this.barrier,i.x,i.y,50,50);break;case 4:o=new z(this.ctx,i,r,"rect","pink"),o.draw(),this.ctx.drawImage(this.finish,i.x,i.y,50,50);break;case 5:this.ctx.drawImage(this.grass,i.x,i.y,50,50),this.ctx.drawImage(this.bomb,i.x,i.y,50,50);break;case 6:this.ctx.save(),this.ctx.drawImage(this.grass,i.x,i.y,50,50),this.ctx.drawImage(this.bombEffects,96,0,48,48,i.x,i.y,50,50),this.ctx.restore();break;case 7:this.ctx.save(),this.ctx.drawImage(this.grass,i.x,i.y,50,50),this.ctx.drawImage(this.bombEffectsUp,91,192,43,48,i.x,i.y,50,50),this.ctx.restore();break;case 8:this.ctx.save(),this.ctx.drawImage(this.grass,i.x,i.y,50,50),this.ctx.drawImage(this.bombEffectsRight,96,91,48,43,i.x,i.y,50,50),this.ctx.restore();break;case 9:this.ctx.save(),this.ctx.drawImage(this.grass,i.x,i.y,50,50),this.ctx.drawImage(this.bombEffectsDown,0,96,43,48,i.x,i.y,50,50),this.ctx.restore();break;case 10:this.ctx.save(),this.ctx.drawImage(this.grass,i.x,i.y,50,50),this.ctx.drawImage(this.bombEffectsLeft,192,0,48,43,i.x,i.y,50,50),this.ctx.rotate(180*Math.PI/180),this.ctx.restore()}}))}))}changeLevel(e){this.level=e}checkColision(e,t,s){const i=e.y/t.y,r=e.x/t.x,o=Number.isInteger(i)&&Number.isInteger(r)?0!==this.levels[this.level][i][r+1]&&6!==this.levels[this.level][i][r+1]&&7!==this.levels[this.level][i][r+1]&&8!==this.levels[this.level][i][r+1]&&9!==this.levels[this.level][i][r+1]&&10!==this.levels[this.level][i][r+1]:0!==this.levels[this.level][Math.floor(i)][Math.floor(r)+1]||0!==this.levels[this.level][Math.ceil(i)][Math.ceil(r)+1],h=Number.isInteger(i)&&Number.isInteger(r)?0!==this.levels[this.level][i][r-1]&&6!==this.levels[this.level][i][r-1]&&7!==this.levels[this.level][i][r-1]&&8!==this.levels[this.level][i][r-1]&&9!==this.levels[this.level][i][r-1]&&10!==this.levels[this.level][i][r-1]:0!==this.levels[this.level][Math.floor(i)][Math.floor(r)-1]||0!==this.levels[this.level][Math.ceil(i)][Math.ceil(r)-1],a=Number.isInteger(i)&&Number.isInteger(r)?0!==this.levels[this.level][i+1][r]&&6!==this.levels[this.level][i+1][r]&&7!==this.levels[this.level][i+1][r]&&8!==this.levels[this.level][i+1][r]&&9!==this.levels[this.level][i+1][r]&&10!==this.levels[this.level][i+1][r]:0!==this.levels[this.level][Math.floor(i)+1][Math.floor(r)]||0!==this.levels[this.level][Math.ceil(i)+1][Math.ceil(r)],l=Number.isInteger(i)&&Number.isInteger(r)?0!==this.levels[this.level][i-1][r]&&6!==this.levels[this.level][i-1][r]&&7!==this.levels[this.level][i-1][r]&&8!==this.levels[this.level][i-1][r]&&9!==this.levels[this.level][i-1][r]&&10!==this.levels[this.level][i-1][r]:0!==this.levels[this.level][Math.floor(i)-1][Math.floor(r)]||0!==this.levels[this.level][Math.ceil(i)-1][Math.ceil(r)];switch(s.d||s.ArrowRight?"right":s.a||s.ArrowLeft?"left":s.s||s.ArrowDown?"down":s.w||s.ArrowUp?"up":""){case"right":return!!o;case"left":return!!h;case"down":return!!a;case"up":return!!l;default:return!0}}checkStillAlive(e,t){return 6!==this.levels[this.level][e][t]&&7!==this.levels[this.level][e][t]&&8!==this.levels[this.level][e][t]&&9!==this.levels[this.level][e][t]&&10!==this.levels[this.level][e][t]}putBomb(e,t){this.levels[this.level][e][t]=5,console.log(this.levels[this.level])}detonateBomb(e,t){const s=this.levels[this.level][e-1][t],i=this.levels[this.level][e][t+1],r=this.levels[this.level][e+1][t],o=this.levels[this.level][e][t-1];this.levels[this.level][e][t]=6,0!==s&&3!==s||(this.levels[this.level][e-1][t]=7),0!==i&&3!==i||(this.levels[this.level][e][t+1]=8),0!==r&&3!==r||(this.levels[this.level][e+1][t]=9),0!==o&&3!==o||(this.levels[this.level][e][t-1]=10),setTimeout((()=>{this.levels[this.level][e][t]=0,0!==s&&3!==s||(this.levels[this.level][e-1][t]=0),0!==i&&3!==i||(this.levels[this.level][e][t+1]=0),0!==r&&3!==r||(this.levels[this.level][e+1][t]=0),0!==o&&3!==o||(this.levels[this.level][e][t-1]=0)}),1e3)}}(re=ie||(ie={}))[re.UP=1]="UP",re[re.DOWN=2]="DOWN",re[re.LEFT=3]="LEFT",re[re.RIGHT=4]="RIGHT",re[re.BOMB=5]="BOMB";const he={ArrowUp:ie.UP,ArrowDown:ie.DOWN,ArrowLeft:ie.LEFT,ArrowRight:ie.RIGHT,Shift:ie.BOMB},ae={w:ie.UP,s:ie.DOWN,a:ie.LEFT,d:ie.RIGHT,e:ie.BOMB};window.onload=()=>{const e=document.getElementById("canvas-aux").getContext("2d"),t="black",s=document.getElementById("canvas").getContext("2d"),i=new j(e);let r=i.getLevel(),o=new oe(s,r),h=new T(e,{x:12.5,y:37}),a=new D(o,r),l=new X(s,o,{x:50,y:50},he,1,a),n=new X(s,o,{x:1050,y:650},ae,2,a),b=[l,n],c=0,d=!1;const m=r=>{const a=(r-c)/1e3;c=r,s.clearRect(0,0,s.canvas.width,s.canvas.height),e.clearRect(0,0,e.canvas.width,e.canvas.height),i.draw("#FFD737",t),h.draw(a,t),o.draw(),b.forEach((e=>{e.draw(),e.update();const t=e.finishGame();t&&(s.font="80px Bomberman",s.fillStyle="black",s.fillText("Jugador "+(1===t?2:1),330,330),s.fillText("Gana la partida",155,430),s.fillStyle="white",s.fillText("Jugador "+(1===t?2:1),325,325),s.fillText("Gana la partida",150,425),d=!0)})),window.requestAnimationFrame(m)};window.requestAnimationFrame(m);document.body.addEventListener("keydown",(t=>{b.forEach((e=>{e.keyboard_event_down&&!d&&e.keyboard_event_down(t)})),i.keyboard_event_down(t.key),"Enter"===t.key&&(r=i.getLevel(),console.log(r),o=new oe(s,r),h=new T(e,{x:12.5,y:37}),a=new D(o,r),l=new X(s,o,{x:50,y:50},he,1,a),n=new X(s,o,{x:1050,y:650},ae,2,a),b=[l,n])})),document.body.addEventListener("keyup",(e=>{b.forEach((t=>{t.keyboard_event_up&&!d&&t.keyboard_event_up(e.key)}))}))};
//# sourceMappingURL=index.d6cf229b.js.map
